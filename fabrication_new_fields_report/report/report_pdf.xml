<?xml version="1.0" encoding="utf-8"?>
<odoo>
        <record id="paperformat_id_test" model="report.paperformat">
            <field name="name">production order Report</field>
            <field name="default" eval="True"/>
            <field name="format">custom</field>
            <field name="page_height">297</field>
            <field name="page_width">210</field>
            <field name="orientation">Portrait</field>
            <field name="margin_top">10</field>
            <field name="margin_bottom">10</field>
            <field name="margin_left">10</field>
            <field name="margin_right">10</field>
            <field name="header_line" eval="False"/>
            <field name="header_spacing">25</field>
            <field name="dpi">90</field>
    </record>

    <report
        id="mrp.action_report_production_order"
        model="mrp.production"
        string="Orden De Producción"
        name="fabrication_new_fields_report.report_production_prder"
        report_type="qweb-pdf"
        paperformat="fabrication_new_fields_report.paperformat_id_test"
        print_report_name = "'Orden de Producción - %s' % (object.name)"
    />


    <template id="report_production_prder">
        <t t-call="web.html_container">
          <t t-foreach="docs" t-as="doc">
              <div class="header">
              </div>

              <div class="footer text-center newletrax" style="font-size:12px !important">
                  <hr class="m-0 p-0 "/>
                       <span class="text-center">Web: <span t-field="doc.company_id.website"/></span>
                  <hr class="m-0 p-0 "/>
                  <center class="m-0 p-0 ">Pagina <span class="page"/> de <span class="topage"/> </center>
              </div>

              <t t-call="web.external_layout">

                  <div class="row pt-2 newletrax" style="background-color: white !important ;font-size:12px !important">
							<div class="col-6 ">
                                <span class="text-left font-weight-bold" t-field="doc.company_id.name" style="font-size:14px !important;"/><br/>
                                <span class="text-left">R.U.C. </span><span t-field="doc.company_id.vat"/><br/>
								<span class="text-left">Direcciòn Fiscal: </span>
                                  <span class="text-left ml-2" t-field="doc.company_id.street"/>
                                  <span class="text-left ml-2" t-field="doc.company_id.street2"/>
                                  <span class="text-left ml-2" t-field="doc.company_id.city"/>
                                  <span class="text-left ml-2" t-field="doc.company_id.state_id.name"/>
                                  <span class="text-left ml-2" t-field="doc.company_id.country_id.name"/>
							</div>
                            <div class="col-6 pt-0">
                                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" alt="Logo" style="top: 0 ; max-height: 100px; max-width: 500px; vertical-align: baseline;" class="mt-0 pt-0"/>
							</div>
                  </div>

                  <div class="page newletrax" style="background-color: white !important; font-size:14px !important">
                          <div class="text-left" style="font-size:18px !important">
                              <h2 style="color:#7f411d; font-size:30px;" class="m-0 p-0"><span class="font-weight-bold">Orden de Producción #</span><span t-field="doc.name"/> </h2>
                          </div>
                          <div class="text-right">
                              <span class="text-right">
                                <div t-field="o.name" t-options="{'widget': 'barcode', 'width': 600, 'height': 100, 'img_style': 'width:350px;height:60px'}"/>
                            </span>
                          </div>
                      <table class="table mt-4 table-sm " style="background-color: white !important">
                          <tbody>
                              <tr class="table-active font-weight-bold">
                                  <td class="pl-2" width="30%">Producto Terminado:</td>
                                  <td class="pl-2" width="40%">Cantidad A Producir:</td>
                                  <td class="pl-2" width="30%">Responsable: </td>
                              </tr>
                              <tr>
                                  <td class="pl-2" width="30%"><span t-field="doc.product_id.name"/></td>
                                  <td class="pl-2" width="40%"><span t-field="doc.product_qty"/></td>
                                  <td><span t-field="doc.user_id.partner_id.name" class="pl-2" width="30%"/></td>
                              </tr>
                          </tbody>
                      </table>
                    
                    <h3 t-if="o.move_raw_ids">
                        <span t-if="o.state == 'done'">
                            Productos Consumidos
                        </span>
                        <span t-else="">
                            Productos A Consumir
                        </span>
                    </h3>
                      
                      <table class="table mt-4 table-sm" style="background-color: white !important">
                          <thead class="thead-light" style="background-color: white !important">
                                <tr style="background-color: white !important">
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important; border-left: 1px solid black !important;border-top: 1px solid black !important">Producto </th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Cantidad A Consumir</th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Cantidad Consumida</th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Unidad De Medida.</th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Desde </th>
                                </tr>
                          </thead>

                          <tbody style="background-color: white !important">
                              <t t-foreach="doc.move_raw_ids" t-as="line" t-as_index="i">
                                        <tr style="background-color: white !important">
                                            <td class="text-center" style="border-left: 1px solid black !important; border-top: 1px solid black !important; border-right: 1px solid black; border-bottom: 1px solid black !important; width: 25px">
                                                <span t-esc="line.product_id.name"/>
                                            </td>
                                            <td class="text-center" style="border-bottom: 1px solid black !important;border-right: 1px solid black; ; width: 30px">
                                               <span t-field="line.product_uom_qty" t-options="{&quot;widget&quot;: &quot;float&quot;, &quot;precision&quot;: 0}"/>
                                            </td>
                                            <td class="text-center " style="border-bottom: 1px solid black !important;border-right: 1px solid black; ; width: 150px">
                                               <span t-field="line.quantity_done"/>
                                            </td>
                                            <td class="pl-2" style="border-bottom: 1px solid black !important;border-right: 1px solid black; width: 350px">
                                                <t t-if="line.product_uom">
                                                    <span t-field="line.product_uom.name"/>
                                                </t>
                                            </td>
                                            <td class="text-right" style="border-bottom: 1px solid black !important;border-right: 1px solid black">
                                               <t t-if="line.location_id">
                                                    <span t-field="line.location_id.name"/>
                                                </t>
                                            </td>
                                        </tr>
                               </t>
                          </tbody>
                       </table>


                        </br>
                        <h3 t-if="o.workforce_ids">
                        <span>
                            Mano De Obra
                        </span>
                    </h3>
                       <table class="table mt-4 table-sm" style="background-color: white !important">
                          <thead class="thead-light" style="background-color: white !important">
                                <tr style="background-color: white !important">
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important; border-left: 1px solid black !important;border-top: 1px solid black !important">Mano De Obra </th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Empleado</th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Horas</th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Costo Unitario</th>
                                    <th class="text-center p-1" style="border-right: 1px solid black; border-bottom: 1px solid black !important;border-top: 1px solid black !important;">Costo Total</th>
                                </tr>
                          </thead>

                          <tbody style="background-color: white !important">
                              <t t-foreach="doc.workforce_ids" t-as="line_obra" t-as_index="i">
                                        <tr style="background-color: white !important">
                                            <td class="text-center" style="border-left: 1px solid black !important; border-top: 1px solid black !important; border-right: 1px solid black; border-bottom: 1px solid black !important; width: 25px">
                                                <span t-esc="line_obra.name.name"/>
                                            </td>
                                            <td class="text-center" style="border-bottom: 1px solid black !important;border-right: 1px solid black; ; width: 30px">
                                                <t t-if="line.location_id">
                                                    <span t-field="line_obra.empleado_id.name"/>
                                                </t>
                                            </td>
                                            <td class="text-center " style="border-bottom: 1px solid black !important;border-right: 1px solid black; ; width: 150px">
                                               <span t-field="line_obra.horas"/>
                                            </td>
                                            <td class="pl-2" style="border-bottom: 1px solid black !important;border-right: 1px solid black; width: 350px">
                                                <span t-field="line_obra.costo_unitario"/>
                                            </td>
                                            <td class="text-right" style="border-bottom: 1px solid black !important;border-right: 1px solid black">
                                               <span t-field="line_obra.costo_total"/>
                                            </td>
                                        </tr>
                               </t>
                          </tbody>
                       </table>

                </div>
              </t>
          </t>
        </t>
    </template>

</odoo>